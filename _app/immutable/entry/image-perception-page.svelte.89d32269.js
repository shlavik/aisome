import{S as we,i as Te,s as Ie,C as Ve,k as D,a as C,q,l as V,m as B,h as d,c as A,r as P,n as E,b as z,H as c,L as $,E as Ne,F as je,G as Oe,g as L,d as J,M as Me,P as Je,Q as et,w as Ye,R as Be,p as Ee,I as Se,e as me,y as de,D as tt,z as ge,A as pe,u as te,f as Ce,O as Ze,B as ve,J as qe,o as lt,T as Ae,v as Pe,N as st}from"../chunks/index.1853ede0.js";import{b as nt}from"../chunks/paths.13fc352e.js";import{b as Ue,a as ze,l as ot}from"../chunks/index.08021839.js";import{M as rt}from"../chunks/MainButton.4b9f5fb5.js";import{i as ae}from"../chunks/index.c44f348b.js";const it=s=>({}),He=s=>({});function at(s){let t,l,e,n,o,r,v,k,u,f,m;const w=s[4].header,g=Ve(w,s,s[3],He),a=s[4].default,_=Ve(a,s,s[3],null);return{c(){t=D("button"),l=C(),e=D("div"),n=D("button"),g&&g.c(),o=C(),r=D("div"),v=q("✖️"),k=C(),_&&_.c(),this.h()},l(i){t=V(i,"BUTTON",{class:!0}),B(t).forEach(d),l=A(i),e=V(i,"DIV",{class:!0,role:!0,"aria-modal":!0});var T=B(e);n=V(T,"BUTTON",{class:!0});var j=B(n);g&&g.l(j),o=A(j),r=V(j,"DIV",{class:!0});var Q=B(r);v=P(Q,"✖️"),Q.forEach(d),j.forEach(d),k=A(T),_&&_.l(T),T.forEach(d),this.h()},h(){E(t,"class","modal-background svelte-1egttrx"),E(r,"class","close svelte-1egttrx"),E(n,"class","header svelte-1egttrx"),E(e,"class","modal svelte-1egttrx"),E(e,"role","dialog"),E(e,"aria-modal","true")},m(i,T){z(i,t,T),z(i,l,T),z(i,e,T),c(e,n),g&&g.m(n,null),c(n,o),c(n,r),c(r,v),c(e,k),_&&_.m(e,null),s[5](e),u=!0,f||(m=[$(window,"keydown",s[2]),$(t,"click",s[1]),$(n,"click",s[1])],f=!0)},p(i,[T]){g&&g.p&&(!u||T&8)&&Ne(g,w,i,i[3],u?Oe(w,i[3],T,it):je(i[3]),He),_&&_.p&&(!u||T&8)&&Ne(_,a,i,i[3],u?Oe(a,i[3],T,null):je(i[3]),null)},i(i){u||(L(g,i),L(_,i),u=!0)},o(i){J(g,i),J(_,i),u=!1},d(i){i&&d(t),i&&d(l),i&&d(e),g&&g.d(i),_&&_.d(i),s[5](null),f=!1,Me(m)}}}function ft(s,t,l){let{$$slots:e={},$$scope:n}=t;const o=Je(),r=()=>o("close");let v;const k=m=>{if(m.key==="Escape"){r();return}if(m.key==="Tab"){const w=v.querySelectorAll("*"),g=Array.from(w).filter(_=>_.tabIndex>=0);let a=g.indexOf(document.activeElement);a===-1&&m.shiftKey&&(a=0),a+=g.length+(m.shiftKey?-1:1),a%=g.length,g[a].focus(),m.preventDefault()}},u=typeof document<"u"&&document.activeElement;u&&et(()=>{u.focus()});function f(m){Ye[m?"unshift":"push"](()=>{v=m,l(0,v)})}return s.$$set=m=>{"$$scope"in m&&l(3,n=m.$$scope)},[v,r,k,n,e,f]}class ct extends we{constructor(t){super(),Te(this,t,ft,at,Ie,{})}}function Ke(s){let t;return{c(){t=q("👍")},l(l){t=P(l,"👍")},m(l,e){z(l,t,e)},d(l){l&&d(t)}}}function Le(s){let t;return{c(){t=q("👎")},l(l){t=P(l,"👎")},m(l,e){z(l,t,e)},d(l){l&&d(t)}}}function ut(s){let t,l,e,n,o,r,v,k,u=s[2]>0&&Ke(),f=s[2]<0&&Le();return{c(){t=D("button"),l=D("img"),n=C(),o=D("div"),u&&u.c(),r=C(),f&&f.c(),this.h()},l(m){t=V(m,"BUTTON",{class:!0});var w=B(t);l=V(w,"IMG",{class:!0,alt:!0,src:!0}),n=A(w),o=V(w,"DIV",{class:!0});var g=B(o);u&&u.l(g),r=A(g),f&&f.l(g),g.forEach(d),w.forEach(d),this.h()},h(){E(l,"class","image svelte-1bv2z4f"),E(l,"alt",""),Be(l.src,e=s[0])||E(l,"src",e),E(o,"class","mark svelte-1bv2z4f"),E(t,"class","variant svelte-1bv2z4f"),Ee(t,"padding",s[1]?"0.5rem":0)},m(m,w){z(m,t,w),c(t,l),c(t,n),c(t,o),u&&u.m(o,null),c(o,r),f&&f.m(o,null),v||(k=[$(t,"click",s[4]),$(t,"mousedown",s[5]),$(t,"touchstart",s[6])],v=!0)},p(m,[w]){w&1&&!Be(l.src,e=m[0])&&E(l,"src",e),m[2]>0?u||(u=Ke(),u.c(),u.m(o,r)):u&&(u.d(1),u=null),m[2]<0?f||(f=Le(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),w&2&&Ee(t,"padding",m[1]?"0.5rem":0)},i:Se,o:Se,d(m){m&&d(t),u&&u.d(),f&&f.d(),v=!1,Me(k)}}}function _t(s,t,l){const e=Je();let{src:n}=t,{frame:o=!0}=t,{value:r=0}=t;const v=f=>e("click",f),k=f=>e("mousedown",f),u=f=>e("touchstart",f);return s.$$set=f=>{"src"in f&&l(0,n=f.src),"frame"in f&&l(1,o=f.frame),"value"in f&&l(2,r=f.value)},[n,o,r,e,v,k,u]}class $e extends we{constructor(t){super(),Te(this,t,_t,ut,Ie,{src:0,frame:1,value:2})}}const R={en:{step:"Step",of:"of",make_likes:"Make <strong>2 likes (👍)</strong> and <strong>2 dislikes (👎)</strong> for <strong>8 images</strong>.",immediate_reaction:"Don't waste too much time thinking, your first immediate reaction is important!",next:"NEXT",continue:"CONTINUE"},ru:{step:"Шаг",of:"из",make_likes:"Поставьте <strong>2 лайка (👍)</strong> и <strong>2 дизлайка (👎)</strong> для <strong>8 изображений</strong>.",immediate_reaction:"Не тратьте слишком много времени на размышления, важна ваша первая немедленная реакция!",next:"ДАЛЕЕ",continue:"ПРОДОЛЖИТЬ"}};function Xe(s,t,l){const e=s.slice();return e[26]=t[l].filename,e[27]=t[l].src,e[29]=l,e}function Qe(s,t,l){const e=s.slice();return e[30]=t[l],e}function We(s){let t,l=ae[s[1]+1],e=[];for(let n=0;n<l.length;n+=1)e[n]=Fe(Qe(s,l,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=me()},l(n){for(let o=0;o<e.length;o+=1)e[o].l(n);t=me()},m(n,o){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(n,o);z(n,t,o)},p(n,o){if(o[0]&2){l=ae[n[1]+1];let r;for(r=0;r<l.length;r+=1){const v=Qe(n,l,r);e[r]?e[r].p(v,o):(e[r]=Fe(v),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(n){Ze(e,n),n&&d(t)}}}function Fe(s){let t,l;return{c(){t=D("link"),this.h()},l(e){t=V(e,"LINK",{rel:!0,href:!0,as:!0}),this.h()},h(){E(t,"rel","preload"),E(t,"href",l=s[30]),E(t,"as","image")},m(e,n){z(e,t,n)},p(e,n){n[0]&2&&l!==(l=e[30])&&E(t,"href",l)},d(e){e&&d(t)}}}function Ge(s){let t,l;return t=new $e({props:{src:s[27],value:s[0][s[1]][s[26]]}}),t.$on("click",s[12](s[29])),{c(){de(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,n){pe(t,e,n),l=!0},p(e,n){const o={};n[0]&8&&(o.src=e[27]),n[0]&11&&(o.value=e[0][e[1]][e[26]]),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){J(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function Re(s){let t,l;return t=new ct({props:{$$slots:{header:[mt],default:[ht]},$$scope:{ctx:s}}}),t.$on("close",s[21]),{c(){de(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,n){pe(t,e,n),l=!0},p(e,n){const o={};n[0]&1543|n[1]&4&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){J(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function ht(s){let t,l,e,n,o,r,v,k,u,f,m,w,g;return l=new $e({props:{src:s[10].src,frame:!1,value:s[0][s[1]][s[10].filename]}}),l.$on("click",s[15]),l.$on("mousedown",s[16]),l.$on("touchstart",s[17]),{c(){t=D("div"),de(l.$$.fragment),n=C(),o=D("div"),r=D("button"),v=q("👍"),k=C(),u=D("button"),f=q("👎"),this.h()},l(a){t=V(a,"DIV",{class:!0});var _=B(t);ge(l.$$.fragment,_),_.forEach(d),n=A(a),o=V(a,"DIV",{class:!0});var i=B(o);r=V(i,"BUTTON",{class:!0});var T=B(r);v=P(T,"👍"),T.forEach(d),k=A(i),u=V(i,"BUTTON",{class:!0});var j=B(u);f=P(j,"👎"),j.forEach(d),i.forEach(d),this.h()},h(){E(t,"class",e=Ae(s[9])+" svelte-3ob3jb"),E(r,"class","left svelte-3ob3jb"),E(u,"class","right svelte-3ob3jb"),E(o,"class","row svelte-3ob3jb")},m(a,_){z(a,t,_),pe(l,t,null),z(a,n,_),z(a,o,_),c(o,r),c(r,v),c(o,k),c(o,u),c(u,f),m=!0,w||(g=[$(r,"click",s[19]),$(u,"click",s[20])],w=!0)},p(a,_){const i={};_[0]&1024&&(i.src=a[10].src),_[0]&1027&&(i.value=a[0][a[1]][a[10].filename]),l.$set(i),(!m||_[0]&512&&e!==(e=Ae(a[9])+" svelte-3ob3jb"))&&E(t,"class",e)},i(a){m||(L(l.$$.fragment,a),m=!0)},o(a){J(l.$$.fragment,a),m=!1},d(a){a&&d(t),ve(l),a&&d(n),a&&d(o),w=!1,Me(g)}}}function mt(s){let t,l,e=s[2]+1+"",n;return{c(){t=D("span"),l=q("#"),n=q(e),this.h()},l(o){t=V(o,"SPAN",{slot:!0});var r=B(t);l=P(r,"#"),n=P(r,e),r.forEach(d),this.h()},h(){E(t,"slot","header")},m(o,r){z(o,t,r),c(t,l),c(t,n)},p(o,r){r[0]&4&&e!==(e=o[2]+1+"")&&te(n,e)},d(o){o&&d(t)}}}function dt(s){let t,l,e,n,o=R[s[7]].step+"",r,v,k=s[1]+2+"",u,f,m=R[s[7]].of+"",w,g,a,_,i=R[s[7]].make_likes+"",T,j,Q=R[s[7]].immediate_reaction+"",Y,se,W,F,ne,le,oe,re,G,p,S,N,H,K,ie,fe,x,be,Z,X,U=s[1]<ae.length-1&&We(s),ee=s[3],M=[];for(let h=0;h<ee.length;h+=1)M[h]=Ge(Xe(s,ee,h));const xe=h=>J(M[h],1,1,()=>{M[h]=null});let O=s[2]!==void 0&&Re(s);return Z=new rt({props:{text:s[11],visible:s[4],onClick:s[14]}}),{c(){U&&U.c(),t=me(),l=C(),e=D("section"),n=D("h3"),r=q(o),v=C(),u=q(k),f=C(),w=q(m),g=q(" 13"),a=C(),_=D("p"),T=C(),j=D("p"),Y=q(Q),se=C(),W=D("div"),F=D("div"),ne=q("👍: "),le=q(s[6]),oe=q(" / 2"),re=C(),G=D("div"),p=q("👎: "),S=q(s[5]),N=q(" / 2"),H=C(),K=D("div");for(let h=0;h<M.length;h+=1)M[h].c();ie=C(),O&&O.c(),fe=C(),x=D("a"),be=C(),de(Z.$$.fragment),this.h()},l(h){const b=tt("svelte-qqy9ge",document.head);U&&U.l(b),t=me(),b.forEach(d),l=A(h),e=V(h,"SECTION",{});var I=B(e);n=V(I,"H3",{});var y=B(n);r=P(y,o),v=A(y),u=P(y,k),f=A(y),w=P(y,m),g=P(y," 13"),y.forEach(d),a=A(I),_=V(I,"P",{});var ce=B(_);ce.forEach(d),T=A(I),j=V(I,"P",{});var ye=B(j);Y=P(ye,Q),ye.forEach(d),se=A(I),W=V(I,"DIV",{class:!0});var ue=B(W);F=V(ue,"DIV",{class:!0});var _e=B(F);ne=P(_e,"👍: "),le=P(_e,s[6]),oe=P(_e," / 2"),_e.forEach(d),re=A(ue),G=V(ue,"DIV",{class:!0});var he=B(G);p=P(he,"👎: "),S=P(he,s[5]),N=P(he," / 2"),he.forEach(d),ue.forEach(d),H=A(I),K=V(I,"DIV",{class:!0});var De=B(K);for(let ke=0;ke<M.length;ke+=1)M[ke].l(De);De.forEach(d),ie=A(I),O&&O.l(I),fe=A(I),x=V(I,"A",{href:!0}),B(x).forEach(d),be=A(I),ge(Z.$$.fragment,I),I.forEach(d),this.h()},h(){E(F,"class","helper svelte-3ob3jb"),E(G,"class","helper svelte-3ob3jb"),E(W,"class","helpers svelte-3ob3jb"),E(K,"class","variants svelte-3ob3jb"),E(x,"href",nt+"/satisfaction-with-life"),Ee(x,"display","none")},m(h,b){U&&U.m(document.head,null),c(document.head,t),z(h,l,b),z(h,e,b),c(e,n),c(n,r),c(n,v),c(n,u),c(n,f),c(n,w),c(n,g),c(e,a),c(e,_),_.innerHTML=i,c(e,T),c(e,j),c(j,Y),c(e,se),c(e,W),c(W,F),c(F,ne),c(F,le),c(F,oe),c(W,re),c(W,G),c(G,p),c(G,S),c(G,N),c(e,H),c(e,K);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(K,null);c(e,ie),O&&O.m(e,null),c(e,fe),c(e,x),s[22](x),c(e,be),pe(Z,e,null),X=!0},p(h,b){if(h[1]<ae.length-1?U?U.p(h,b):(U=We(h),U.c(),U.m(t.parentNode,t)):U&&(U.d(1),U=null),(!X||b[0]&128)&&o!==(o=R[h[7]].step+"")&&te(r,o),(!X||b[0]&2)&&k!==(k=h[1]+2+"")&&te(u,k),(!X||b[0]&128)&&m!==(m=R[h[7]].of+"")&&te(w,m),(!X||b[0]&128)&&i!==(i=R[h[7]].make_likes+"")&&(_.innerHTML=i),(!X||b[0]&128)&&Q!==(Q=R[h[7]].immediate_reaction+"")&&te(Y,Q),(!X||b[0]&64)&&te(le,h[6]),(!X||b[0]&32)&&te(S,h[5]),b[0]&4107){ee=h[3];let y;for(y=0;y<ee.length;y+=1){const ce=Xe(h,ee,y);M[y]?(M[y].p(ce,b),L(M[y],1)):(M[y]=Ge(ce),M[y].c(),L(M[y],1),M[y].m(K,null))}for(Pe(),y=ee.length;y<M.length;y+=1)xe(y);Ce()}h[2]!==void 0?O?(O.p(h,b),b[0]&4&&L(O,1)):(O=Re(h),O.c(),L(O,1),O.m(e,fe)):O&&(Pe(),J(O,1,1,()=>{O=null}),Ce());const I={};b[0]&2048&&(I.text=h[11]),b[0]&16&&(I.visible=h[4]),Z.$set(I)},i(h){if(!X){for(let b=0;b<ee.length;b+=1)L(M[b]);L(O),L(Z.$$.fragment,h),X=!0}},o(h){M=M.filter(Boolean);for(let b=0;b<M.length;b+=1)J(M[b]);J(O),J(Z.$$.fragment,h),X=!1},d(h){U&&U.d(h),d(t),h&&d(l),h&&d(e),Ze(M,h),O&&O.d(),s[22](null),ve(Z)}}}function gt(s){for(let t=s.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[s[t],s[l]]=[s[l],s[t]]}return s}function pt(s,t,l){let e,n,o,r,v,k,u,f,m;qe(s,ze,p=>l(23,f=p)),qe(s,ot,p=>l(7,m=p));const g=ae.map(p=>p.map(S=>({filename:S.match(/[^\/]+$/)[0].slice(0,4),src:S}))).map(p=>gt([...p]));let a=g.map(()=>({})),_=0,i,T,j;lt(()=>Ue("img|start"));function Q(p){return()=>l(2,i=p)}function Y(p){const{filename:S}=k[i];let N=a[_];if(p===N[S]){delete N[S],N={...N,[S]:p},l(0,a[_]=N,a),l(0,a=[...a]),l(2,i=void 0);return}const H=Object.entries(N).filter(([K,ie])=>ie===p);if(H.length===2){const[K]=H[0];delete N[K]}delete N[S],N={...N,[S]:p},l(0,a[_]=N,a),l(0,a=[...a]),l(2,i=void 0)}function se(){if(_<g.length-1)return Ue("img|next"),l(1,_++,_);st(ze,f={...f,"image-perception":a},f),T.click()}function W({detail:p}){const{pageX:S,view:N}=p,{innerWidth:H}=N;l(9,j=S<H/2?"left":"right"),j==="left"&&l(2,i--,i),j==="right"&&l(2,i++,i),i>k.length-1&&l(2,i=0),i<0&&l(2,i=k.length-1)}function F({detail:p}){const{pageX:S,view:N}=p,{innerWidth:H}=N;l(9,j=S<H/2?"left":"right")}function ne({detail:p}){const{touches:S,view:N}=p,{pageX:H}=S[0],{innerWidth:K}=N;l(9,j=H<K/2?"left":"right")}const le=()=>Y(1),oe=()=>Y(-1),re=()=>l(2,i=void 0);function G(p){Ye[p?"unshift":"push"](()=>{T=p,l(8,T)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&l(18,e=Object.values(a[_])),s.$$.dirty[0]&262144&&l(6,n=e.filter(p=>p>0).length),s.$$.dirty[0]&262144&&l(5,o=e.filter(p=>p<0).length),s.$$.dirty[0]&96&&l(4,r=n===2&&o===2),s.$$.dirty[0]&146&&l(11,v=r?_<g.length-1?R[m].next:R[m].continue:""),s.$$.dirty[0]&2&&l(3,k=g[_]),s.$$.dirty[0]&12&&l(10,u=i===void 0?{}:k[i])},[a,_,i,k,r,o,n,m,T,j,u,v,Q,Y,se,W,F,ne,e,le,oe,re,G]}class Tt extends we{constructor(t){super(),Te(this,t,pt,dt,Ie,{},null,[-1,-1])}}export{Tt as default};
