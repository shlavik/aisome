import{S as we,i as Te,s as Ie,D as ye,k as V,a as C,r as A,l as y,m as B,h as d,c as P,u as U,p as E,b as z,I as c,L as $,F as Ne,G as Oe,H as qe,g as L,d as J,M as Me,P as Je,Q as et,x as Ye,R as Be,q as Ee,n as Se,e as me,z as de,E as tt,A as pe,B as ge,v as te,f as Ce,O as Ze,C as ve,J as Ae,o as lt,T as Pe,w as Ue,N as st}from"../chunks/index.a6e30a16.js";import{b as nt}from"../chunks/paths.5d981c32.js";import{b as je,a as ze,l as ot}from"../chunks/index.d36b393d.js";import{M as rt}from"../chunks/MainButton.e5624288.js";import{i as ae}from"../chunks/index.c44f348b.js";const it=s=>({}),He=s=>({});function at(s){let t,l,e,n,o,r,v,k,u,f,m;const w=s[4].header,p=ye(w,s,s[3],He),a=s[4].default,h=ye(a,s,s[3],null);return{c(){t=V("button"),l=C(),e=V("div"),n=V("button"),p&&p.c(),o=C(),r=V("div"),v=A("✖️"),k=C(),h&&h.c(),this.h()},l(i){t=y(i,"BUTTON",{class:!0}),B(t).forEach(d),l=P(i),e=y(i,"DIV",{class:!0,role:!0,"aria-modal":!0});var T=B(e);n=y(T,"BUTTON",{class:!0});var O=B(n);p&&p.l(O),o=P(O),r=y(O,"DIV",{class:!0});var Q=B(r);v=U(Q,"✖️"),Q.forEach(d),O.forEach(d),k=P(T),h&&h.l(T),T.forEach(d),this.h()},h(){E(t,"class","modal-background svelte-1b36qhu"),E(r,"class","close svelte-1b36qhu"),E(n,"class","header svelte-1b36qhu"),E(e,"class","modal svelte-1b36qhu"),E(e,"role","dialog"),E(e,"aria-modal","true")},m(i,T){z(i,t,T),z(i,l,T),z(i,e,T),c(e,n),p&&p.m(n,null),c(n,o),c(n,r),c(r,v),c(e,k),h&&h.m(e,null),s[5](e),u=!0,f||(m=[$(window,"keydown",s[2]),$(t,"click",s[1]),$(n,"click",s[1])],f=!0)},p(i,[T]){p&&p.p&&(!u||T&8)&&Ne(p,w,i,i[3],u?qe(w,i[3],T,it):Oe(i[3]),He),h&&h.p&&(!u||T&8)&&Ne(h,a,i,i[3],u?qe(a,i[3],T,null):Oe(i[3]),null)},i(i){u||(L(p,i),L(h,i),u=!0)},o(i){J(p,i),J(h,i),u=!1},d(i){i&&d(t),i&&d(l),i&&d(e),p&&p.d(i),h&&h.d(i),s[5](null),f=!1,Me(m)}}}function ft(s,t,l){let{$$slots:e={},$$scope:n}=t;const o=Je(),r=()=>o("close");let v;const k=m=>{if(m.key==="Escape"){r();return}if(m.key==="Tab"){const w=v.querySelectorAll("*"),p=Array.from(w).filter(h=>h.tabIndex>=0);let a=p.indexOf(document.activeElement);a===-1&&m.shiftKey&&(a=0),a+=p.length+(m.shiftKey?-1:1),a%=p.length,p[a].focus(),m.preventDefault()}},u=typeof document<"u"&&document.activeElement;u&&et(()=>{u.focus()});function f(m){Ye[m?"unshift":"push"](()=>{v=m,l(0,v)})}return s.$$set=m=>{"$$scope"in m&&l(3,n=m.$$scope)},[v,r,k,n,e,f]}class ct extends we{constructor(t){super(),Te(this,t,ft,at,Ie,{})}}function Ke(s){let t;return{c(){t=A("👍")},l(l){t=U(l,"👍")},m(l,e){z(l,t,e)},d(l){l&&d(t)}}}function Le(s){let t;return{c(){t=A("👎")},l(l){t=U(l,"👎")},m(l,e){z(l,t,e)},d(l){l&&d(t)}}}function ut(s){let t,l,e,n,o,r,v,k,u=s[2]>0&&Ke(),f=s[2]<0&&Le();return{c(){t=V("button"),l=V("img"),n=C(),o=V("div"),u&&u.c(),r=C(),f&&f.c(),this.h()},l(m){t=y(m,"BUTTON",{class:!0});var w=B(t);l=y(w,"IMG",{class:!0,alt:!0,src:!0}),n=P(w),o=y(w,"DIV",{class:!0});var p=B(o);u&&u.l(p),r=P(p),f&&f.l(p),p.forEach(d),w.forEach(d),this.h()},h(){E(l,"class","image svelte-1bv2z4f"),E(l,"alt",""),Be(l.src,e=s[0])||E(l,"src",e),E(o,"class","mark svelte-1bv2z4f"),E(t,"class","variant svelte-1bv2z4f"),Ee(t,"padding",s[1]?"0.5rem":0)},m(m,w){z(m,t,w),c(t,l),c(t,n),c(t,o),u&&u.m(o,null),c(o,r),f&&f.m(o,null),v||(k=[$(t,"click",s[4]),$(t,"mousedown",s[5]),$(t,"touchstart",s[6])],v=!0)},p(m,[w]){w&1&&!Be(l.src,e=m[0])&&E(l,"src",e),m[2]>0?u||(u=Ke(),u.c(),u.m(o,r)):u&&(u.d(1),u=null),m[2]<0?f||(f=Le(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),w&2&&Ee(t,"padding",m[1]?"0.5rem":0)},i:Se,o:Se,d(m){m&&d(t),u&&u.d(),f&&f.d(),v=!1,Me(k)}}}function ht(s,t,l){const e=Je();let{src:n}=t,{frame:o=!0}=t,{value:r=0}=t;const v=f=>e("click",f),k=f=>e("mousedown",f),u=f=>e("touchstart",f);return s.$$set=f=>{"src"in f&&l(0,n=f.src),"frame"in f&&l(1,o=f.frame),"value"in f&&l(2,r=f.value)},[n,o,r,e,v,k,u]}class $e extends we{constructor(t){super(),Te(this,t,ht,ut,Ie,{src:0,frame:1,value:2})}}const R={en:{step:"Step",of:"of",make_likes:"Make <strong>2 likes (👍)</strong> and <strong>2 dislikes (👎)</strong> for <strong>8 images</strong>.",immediate_reaction:"Don't waste too much time thinking, your first immediate reaction is important!",next:"NEXT",continue:"CONTINUE"},ru:{step:"Шаг",of:"из",make_likes:"Поставьте <strong>2 лайка (👍)</strong> и <strong>2 дизлайка (👎)</strong> для <strong>8 изображений</strong>.",immediate_reaction:"Не тратьте слишком много времени на размышления, важна ваша первая немедленная реакция!",next:"ДАЛЕЕ",continue:"ПРОДОЛЖИТЬ"}};function Xe(s,t,l){const e=s.slice();return e[26]=t[l].filename,e[27]=t[l].src,e[29]=l,e}function Qe(s,t,l){const e=s.slice();return e[30]=t[l],e}function We(s){let t,l=ae[s[1]+1],e=[];for(let n=0;n<l.length;n+=1)e[n]=Fe(Qe(s,l,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=me()},l(n){for(let o=0;o<e.length;o+=1)e[o].l(n);t=me()},m(n,o){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(n,o);z(n,t,o)},p(n,o){if(o[0]&2){l=ae[n[1]+1];let r;for(r=0;r<l.length;r+=1){const v=Qe(n,l,r);e[r]?e[r].p(v,o):(e[r]=Fe(v),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(n){Ze(e,n),n&&d(t)}}}function Fe(s){let t,l;return{c(){t=V("link"),this.h()},l(e){t=y(e,"LINK",{rel:!0,href:!0,as:!0}),this.h()},h(){E(t,"rel","preload"),E(t,"href",l=s[30]),E(t,"as","image")},m(e,n){z(e,t,n)},p(e,n){n[0]&2&&l!==(l=e[30])&&E(t,"href",l)},d(e){e&&d(t)}}}function Ge(s){let t,l;return t=new $e({props:{src:s[27],value:s[0][s[1]][s[26]]}}),t.$on("click",s[12](s[29])),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,n){ge(t,e,n),l=!0},p(e,n){const o={};n[0]&8&&(o.src=e[27]),n[0]&11&&(o.value=e[0][e[1]][e[26]]),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){J(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function Re(s){let t,l;return t=new ct({props:{$$slots:{header:[mt],default:[_t]},$$scope:{ctx:s}}}),t.$on("close",s[21]),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,n){ge(t,e,n),l=!0},p(e,n){const o={};n[0]&1543|n[1]&4&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){J(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function _t(s){let t,l,e,n,o,r,v,k,u,f,m,w,p;return l=new $e({props:{src:s[10].src,frame:!1,value:s[0][s[1]][s[10].filename]}}),l.$on("click",s[15]),l.$on("mousedown",s[16]),l.$on("touchstart",s[17]),{c(){t=V("div"),de(l.$$.fragment),n=C(),o=V("div"),r=V("button"),v=A("👍"),k=C(),u=V("button"),f=A("👎"),this.h()},l(a){t=y(a,"DIV",{class:!0});var h=B(t);pe(l.$$.fragment,h),h.forEach(d),n=P(a),o=y(a,"DIV",{class:!0});var i=B(o);r=y(i,"BUTTON",{class:!0});var T=B(r);v=U(T,"👍"),T.forEach(d),k=P(i),u=y(i,"BUTTON",{class:!0});var O=B(u);f=U(O,"👎"),O.forEach(d),i.forEach(d),this.h()},h(){E(t,"class",e=Pe(s[9])+" svelte-1u1h0tp"),E(r,"class","left svelte-1u1h0tp"),E(u,"class","right svelte-1u1h0tp"),E(o,"class","row svelte-1u1h0tp")},m(a,h){z(a,t,h),ge(l,t,null),z(a,n,h),z(a,o,h),c(o,r),c(r,v),c(o,k),c(o,u),c(u,f),m=!0,w||(p=[$(r,"click",s[19]),$(u,"click",s[20])],w=!0)},p(a,h){const i={};h[0]&1024&&(i.src=a[10].src),h[0]&1027&&(i.value=a[0][a[1]][a[10].filename]),l.$set(i),(!m||h[0]&512&&e!==(e=Pe(a[9])+" svelte-1u1h0tp"))&&E(t,"class",e)},i(a){m||(L(l.$$.fragment,a),m=!0)},o(a){J(l.$$.fragment,a),m=!1},d(a){a&&d(t),ve(l),a&&d(n),a&&d(o),w=!1,Me(p)}}}function mt(s){let t,l,e=s[2]+1+"",n;return{c(){t=V("span"),l=A("#"),n=A(e),this.h()},l(o){t=y(o,"SPAN",{slot:!0});var r=B(t);l=U(r,"#"),n=U(r,e),r.forEach(d),this.h()},h(){E(t,"slot","header")},m(o,r){z(o,t,r),c(t,l),c(t,n)},p(o,r){r[0]&4&&e!==(e=o[2]+1+"")&&te(n,e)},d(o){o&&d(t)}}}function dt(s){let t,l,e,n,o=R[s[7]].step+"",r,v,k=s[1]+2+"",u,f,m=R[s[7]].of+"",w,p,a,h,i=R[s[7]].make_likes+"",T,O,Q=R[s[7]].immediate_reaction+"",Y,se,W,F,ne,le,oe,re,G,g,S,N,H,K,ie,fe,x,be,Z,X,j=s[1]<ae.length-1&&We(s),ee=s[3],M=[];for(let _=0;_<ee.length;_+=1)M[_]=Ge(Xe(s,ee,_));const xe=_=>J(M[_],1,1,()=>{M[_]=null});let q=s[2]!==void 0&&Re(s);return Z=new rt({props:{text:s[11],visible:s[4],onClick:s[14]}}),{c(){j&&j.c(),t=me(),l=C(),e=V("section"),n=V("h3"),r=A(o),v=C(),u=A(k),f=C(),w=A(m),p=A(" 13"),a=C(),h=V("p"),T=C(),O=V("p"),Y=A(Q),se=C(),W=V("div"),F=V("div"),ne=A("👍: "),le=A(s[6]),oe=A(" / 2"),re=C(),G=V("div"),g=A("👎: "),S=A(s[5]),N=A(" / 2"),H=C(),K=V("div");for(let _=0;_<M.length;_+=1)M[_].c();ie=C(),q&&q.c(),fe=C(),x=V("a"),be=C(),de(Z.$$.fragment),this.h()},l(_){const b=tt("svelte-qqy9ge",document.head);j&&j.l(b),t=me(),b.forEach(d),l=P(_),e=y(_,"SECTION",{});var I=B(e);n=y(I,"H3",{});var D=B(n);r=U(D,o),v=P(D),u=U(D,k),f=P(D),w=U(D,m),p=U(D," 13"),D.forEach(d),a=P(I),h=y(I,"P",{});var ce=B(h);ce.forEach(d),T=P(I),O=y(I,"P",{});var De=B(O);Y=U(De,Q),De.forEach(d),se=P(I),W=y(I,"DIV",{class:!0});var ue=B(W);F=y(ue,"DIV",{class:!0});var he=B(F);ne=U(he,"👍: "),le=U(he,s[6]),oe=U(he," / 2"),he.forEach(d),re=P(ue),G=y(ue,"DIV",{class:!0});var _e=B(G);g=U(_e,"👎: "),S=U(_e,s[5]),N=U(_e," / 2"),_e.forEach(d),ue.forEach(d),H=P(I),K=y(I,"DIV",{class:!0});var Ve=B(K);for(let ke=0;ke<M.length;ke+=1)M[ke].l(Ve);Ve.forEach(d),ie=P(I),q&&q.l(I),fe=P(I),x=y(I,"A",{href:!0}),B(x).forEach(d),be=P(I),pe(Z.$$.fragment,I),I.forEach(d),this.h()},h(){E(F,"class","helper svelte-1u1h0tp"),E(G,"class","helper svelte-1u1h0tp"),E(W,"class","helpers svelte-1u1h0tp"),E(K,"class","variants svelte-1u1h0tp"),E(x,"href",nt+"/satisfaction-with-life"),Ee(x,"display","none")},m(_,b){j&&j.m(document.head,null),c(document.head,t),z(_,l,b),z(_,e,b),c(e,n),c(n,r),c(n,v),c(n,u),c(n,f),c(n,w),c(n,p),c(e,a),c(e,h),h.innerHTML=i,c(e,T),c(e,O),c(O,Y),c(e,se),c(e,W),c(W,F),c(F,ne),c(F,le),c(F,oe),c(W,re),c(W,G),c(G,g),c(G,S),c(G,N),c(e,H),c(e,K);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(K,null);c(e,ie),q&&q.m(e,null),c(e,fe),c(e,x),s[22](x),c(e,be),ge(Z,e,null),X=!0},p(_,b){if(_[1]<ae.length-1?j?j.p(_,b):(j=We(_),j.c(),j.m(t.parentNode,t)):j&&(j.d(1),j=null),(!X||b[0]&128)&&o!==(o=R[_[7]].step+"")&&te(r,o),(!X||b[0]&2)&&k!==(k=_[1]+2+"")&&te(u,k),(!X||b[0]&128)&&m!==(m=R[_[7]].of+"")&&te(w,m),(!X||b[0]&128)&&i!==(i=R[_[7]].make_likes+"")&&(h.innerHTML=i),(!X||b[0]&128)&&Q!==(Q=R[_[7]].immediate_reaction+"")&&te(Y,Q),(!X||b[0]&64)&&te(le,_[6]),(!X||b[0]&32)&&te(S,_[5]),b[0]&4107){ee=_[3];let D;for(D=0;D<ee.length;D+=1){const ce=Xe(_,ee,D);M[D]?(M[D].p(ce,b),L(M[D],1)):(M[D]=Ge(ce),M[D].c(),L(M[D],1),M[D].m(K,null))}for(Ue(),D=ee.length;D<M.length;D+=1)xe(D);Ce()}_[2]!==void 0?q?(q.p(_,b),b[0]&4&&L(q,1)):(q=Re(_),q.c(),L(q,1),q.m(e,fe)):q&&(Ue(),J(q,1,1,()=>{q=null}),Ce());const I={};b[0]&2048&&(I.text=_[11]),b[0]&16&&(I.visible=_[4]),Z.$set(I)},i(_){if(!X){for(let b=0;b<ee.length;b+=1)L(M[b]);L(q),L(Z.$$.fragment,_),X=!0}},o(_){M=M.filter(Boolean);for(let b=0;b<M.length;b+=1)J(M[b]);J(q),J(Z.$$.fragment,_),X=!1},d(_){j&&j.d(_),d(t),_&&d(l),_&&d(e),Ze(M,_),q&&q.d(),s[22](null),ve(Z)}}}function pt(s){for(let t=s.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[s[t],s[l]]=[s[l],s[t]]}return s}function gt(s,t,l){let e,n,o,r,v,k,u,f,m;Ae(s,ze,g=>l(23,f=g)),Ae(s,ot,g=>l(7,m=g));const p=ae.map(g=>g.map(S=>({filename:S.match(/[^\/]+$/)[0].slice(0,4),src:S}))).map(g=>pt([...g]));let a=p.map(()=>({})),h=0,i,T,O;lt(()=>je("img|start"));function Q(g){return()=>l(2,i=g)}function Y(g){const{filename:S}=k[i];let N=a[h];if(g===N[S]){delete N[S],N={...N,[S]:g},l(0,a[h]=N,a),l(0,a=[...a]),l(2,i=void 0);return}const H=Object.entries(N).filter(([K,ie])=>ie===g);if(H.length===2){const[K]=H[0];delete N[K]}delete N[S],N={...N,[S]:g},l(0,a[h]=N,a),l(0,a=[...a]),l(2,i=void 0)}function se(){if(h<p.length-1)return je("img|next"),l(1,h++,h);st(ze,f={...f,"image-perception":a},f),T.click()}function W({detail:g}){const{pageX:S,view:N}=g,{innerWidth:H}=N;l(9,O=S<H/2?"left":"right"),O==="left"&&l(2,i--,i),O==="right"&&l(2,i++,i),i>k.length-1&&l(2,i=0),i<0&&l(2,i=k.length-1)}function F({detail:g}){const{pageX:S,view:N}=g,{innerWidth:H}=N;l(9,O=S<H/2?"left":"right")}function ne({detail:g}){const{touches:S,view:N}=g,{pageX:H}=S[0],{innerWidth:K}=N;l(9,O=H<K/2?"left":"right")}const le=()=>Y(1),oe=()=>Y(-1),re=()=>l(2,i=void 0);function G(g){Ye[g?"unshift":"push"](()=>{T=g,l(8,T)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&l(18,e=Object.values(a[h])),s.$$.dirty[0]&262144&&l(6,n=e.filter(g=>g>0).length),s.$$.dirty[0]&262144&&l(5,o=e.filter(g=>g<0).length),s.$$.dirty[0]&96&&l(4,r=n===2&&o===2),s.$$.dirty[0]&146&&l(11,v=r?h<p.length-1?R[m].next:R[m].continue:""),s.$$.dirty[0]&2&&l(3,k=p[h]),s.$$.dirty[0]&12&&l(10,u=i===void 0?{}:k[i])},[a,h,i,k,r,o,n,m,T,O,u,v,Q,Y,se,W,F,ne,e,le,oe,re,G]}class Tt extends we{constructor(t){super(),Te(this,t,gt,dt,Ie,{},null,[-1,-1])}}export{Tt as default};
