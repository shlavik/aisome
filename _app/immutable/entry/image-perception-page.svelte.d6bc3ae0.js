import{S as Ee,i as Te,s as Ie,D as De,k as V,a as q,r as A,l as O,m as C,h as p,c as P,u as U,p as w,b as z,I as _,L as $,F as Ne,G as Ve,H as Oe,g as L,d as R,M as Me,P as Ge,Q as $e,x as Re,R as Be,q as we,n as Se,e as me,z as de,E as xe,A as pe,B as ge,v as te,f as Ce,O as Je,C as ve,J as qe,o as et,T as Ae,w as Pe,N as tt}from"../chunks/index.c9e1d74b.js";import{b as lt}from"../chunks/paths.5cc9849b.js";import{b as he,a as Ue,l as st}from"../chunks/index.034f6a84.js";import{M as nt}from"../chunks/MainButton.4d74500b.js";import{i as fe}from"../chunks/index.c44f348b.js";const ot=s=>({}),je=s=>({});function rt(s){let t,l,e,n,o,i,v,b,u,c,m;const E=s[4].header,d=De(E,s,s[3],je),a=s[4].default,f=De(a,s,s[3],null);return{c(){t=V("button"),l=q(),e=V("div"),n=V("button"),d&&d.c(),o=q(),i=V("div"),v=A("✖️"),b=q(),f&&f.c(),this.h()},l(r){t=O(r,"BUTTON",{class:!0}),C(t).forEach(p),l=P(r),e=O(r,"DIV",{class:!0,role:!0,"aria-modal":!0});var T=C(e);n=O(T,"BUTTON",{class:!0});var B=C(n);d&&d.l(B),o=P(B),i=O(B,"DIV",{class:!0});var Q=C(i);v=U(Q,"✖️"),Q.forEach(p),B.forEach(p),b=P(T),f&&f.l(T),T.forEach(p),this.h()},h(){w(t,"class","modal-background svelte-15wtu8t"),w(i,"class","close svelte-15wtu8t"),w(n,"class","header svelte-15wtu8t"),w(e,"class","modal svelte-15wtu8t"),w(e,"role","dialog"),w(e,"aria-modal","true")},m(r,T){z(r,t,T),z(r,l,T),z(r,e,T),_(e,n),d&&d.m(n,null),_(n,o),_(n,i),_(i,v),_(e,b),f&&f.m(e,null),s[5](e),u=!0,c||(m=[$(window,"keydown",s[2]),$(t,"click",s[1]),$(n,"click",s[1])],c=!0)},p(r,[T]){d&&d.p&&(!u||T&8)&&Ne(d,E,r,r[3],u?Oe(E,r[3],T,ot):Ve(r[3]),je),f&&f.p&&(!u||T&8)&&Ne(f,a,r,r[3],u?Oe(a,r[3],T,null):Ve(r[3]),null)},i(r){u||(L(d,r),L(f,r),u=!0)},o(r){R(d,r),R(f,r),u=!1},d(r){r&&p(t),r&&p(l),r&&p(e),d&&d.d(r),f&&f.d(r),s[5](null),c=!1,Me(m)}}}function it(s,t,l){let{$$slots:e={},$$scope:n}=t;const o=Ge(),i=()=>o("close");let v;const b=m=>{if(m.key==="Escape"){i();return}if(m.key==="Tab"){const E=v.querySelectorAll("*"),d=Array.from(E).filter(f=>f.tabIndex>=0);let a=d.indexOf(document.activeElement);a===-1&&m.shiftKey&&(a=0),a+=d.length+(m.shiftKey?-1:1),a%=d.length,d[a].focus(),m.preventDefault()}},u=typeof document<"u"&&document.activeElement;u&&$e(()=>{u.focus()});function c(m){Re[m?"unshift":"push"](()=>{v=m,l(0,v)})}return s.$$set=m=>{"$$scope"in m&&l(3,n=m.$$scope)},[v,i,b,n,e,c]}class at extends Ee{constructor(t){super(),Te(this,t,it,rt,Ie,{})}}function ze(s){let t;return{c(){t=A("👍")},l(l){t=U(l,"👍")},m(l,e){z(l,t,e)},d(l){l&&p(t)}}}function He(s){let t;return{c(){t=A("👎")},l(l){t=U(l,"👎")},m(l,e){z(l,t,e)},d(l){l&&p(t)}}}function ft(s){let t,l,e,n,o,i,v,b,u=s[2]>0&&ze(),c=s[2]<0&&He();return{c(){t=V("button"),l=V("img"),n=q(),o=V("div"),u&&u.c(),i=q(),c&&c.c(),this.h()},l(m){t=O(m,"BUTTON",{class:!0});var E=C(t);l=O(E,"IMG",{class:!0,alt:!0,src:!0}),n=P(E),o=O(E,"DIV",{class:!0});var d=C(o);u&&u.l(d),i=P(d),c&&c.l(d),d.forEach(p),E.forEach(p),this.h()},h(){w(l,"class","image svelte-1bv2z4f"),w(l,"alt",""),Be(l.src,e=s[0])||w(l,"src",e),w(o,"class","mark svelte-1bv2z4f"),w(t,"class","variant svelte-1bv2z4f"),we(t,"padding",s[1]?"0.5rem":0)},m(m,E){z(m,t,E),_(t,l),_(t,n),_(t,o),u&&u.m(o,null),_(o,i),c&&c.m(o,null),v||(b=[$(t,"click",s[4]),$(t,"mousedown",s[5]),$(t,"touchstart",s[6])],v=!0)},p(m,[E]){E&1&&!Be(l.src,e=m[0])&&w(l,"src",e),m[2]>0?u||(u=ze(),u.c(),u.m(o,i)):u&&(u.d(1),u=null),m[2]<0?c||(c=He(),c.c(),c.m(o,null)):c&&(c.d(1),c=null),E&2&&we(t,"padding",m[1]?"0.5rem":0)},i:Se,o:Se,d(m){m&&p(t),u&&u.d(),c&&c.d(),v=!1,Me(b)}}}function ct(s,t,l){const e=Ge();let{src:n}=t,{frame:o=!0}=t,{value:i=0}=t;const v=c=>e("click",c),b=c=>e("mousedown",c),u=c=>e("touchstart",c);return s.$$set=c=>{"src"in c&&l(0,n=c.src),"frame"in c&&l(1,o=c.frame),"value"in c&&l(2,i=c.value)},[n,o,i,e,v,b,u]}class Ye extends Ee{constructor(t){super(),Te(this,t,ct,ft,Ie,{src:0,frame:1,value:2})}}const G={en:{step:"Step",of:"of",make_likes:"Make <strong>2 likes (👍)</strong> and <strong>2 dislikes (👎)</strong> for <strong>8 images</strong>.",immediate_reaction:"Don't waste too much time thinking, your first immediate reaction is important!",next:"NEXT",continue:"CONTINUE"},ru:{step:"Шаг",of:"из",make_likes:"Поставьте <strong>2 лайка (👍)</strong> и <strong>2 дизлайка (👎)</strong> для <strong>8 изображений</strong>.",immediate_reaction:"Не тратьте слишком много времени на размышления, важна ваша первая немедленная реакция!",next:"ДАЛЕЕ",continue:"ПРОДОЛЖИТЬ"}};function Ke(s,t,l){const e=s.slice();return e[26]=t[l].filename,e[27]=t[l].src,e[29]=l,e}function Le(s,t,l){const e=s.slice();return e[30]=t[l],e}function Xe(s){let t,l=fe[s[1]+1],e=[];for(let n=0;n<l.length;n+=1)e[n]=Qe(Le(s,l,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=me()},l(n){for(let o=0;o<e.length;o+=1)e[o].l(n);t=me()},m(n,o){for(let i=0;i<e.length;i+=1)e[i].m(n,o);z(n,t,o)},p(n,o){if(o[0]&2){l=fe[n[1]+1];let i;for(i=0;i<l.length;i+=1){const v=Le(n,l,i);e[i]?e[i].p(v,o):(e[i]=Qe(v),e[i].c(),e[i].m(t.parentNode,t))}for(;i<e.length;i+=1)e[i].d(1);e.length=l.length}},d(n){Je(e,n),n&&p(t)}}}function Qe(s){let t,l;return{c(){t=V("link"),this.h()},l(e){t=O(e,"LINK",{rel:!0,href:!0,as:!0}),this.h()},h(){w(t,"rel","preload"),w(t,"href",l=s[30]),w(t,"as","image")},m(e,n){z(e,t,n)},p(e,n){n[0]&2&&l!==(l=e[30])&&w(t,"href",l)},d(e){e&&p(t)}}}function We(s){let t,l;return t=new Ye({props:{src:s[27],value:s[0][s[1]][s[26]]}}),t.$on("click",s[12](s[29])),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,n){ge(t,e,n),l=!0},p(e,n){const o={};n[0]&8&&(o.src=e[27]),n[0]&11&&(o.value=e[0][e[1]][e[26]]),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){R(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function Fe(s){let t,l;return t=new at({props:{$$slots:{header:[_t],default:[ut]},$$scope:{ctx:s}}}),t.$on("close",s[21]),{c(){de(t.$$.fragment)},l(e){pe(t.$$.fragment,e)},m(e,n){ge(t,e,n),l=!0},p(e,n){const o={};n[0]&1543|n[1]&4&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){R(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function ut(s){let t,l,e,n,o,i,v,b,u,c,m,E,d;return l=new Ye({props:{src:s[10].src,frame:!1,value:s[0][s[1]][s[10].filename]}}),l.$on("click",s[15]),l.$on("mousedown",s[16]),l.$on("touchstart",s[17]),{c(){t=V("div"),de(l.$$.fragment),n=q(),o=V("div"),i=V("button"),v=A("👍"),b=q(),u=V("button"),c=A("👎"),this.h()},l(a){t=O(a,"DIV",{class:!0});var f=C(t);pe(l.$$.fragment,f),f.forEach(p),n=P(a),o=O(a,"DIV",{class:!0});var r=C(o);i=O(r,"BUTTON",{class:!0});var T=C(i);v=U(T,"👍"),T.forEach(p),b=P(r),u=O(r,"BUTTON",{class:!0});var B=C(u);c=U(B,"👎"),B.forEach(p),r.forEach(p),this.h()},h(){w(t,"class",e=Ae(s[9])+" svelte-uw5lw4"),w(i,"class","svelte-uw5lw4"),w(u,"class","svelte-uw5lw4"),w(o,"class","row svelte-uw5lw4")},m(a,f){z(a,t,f),ge(l,t,null),z(a,n,f),z(a,o,f),_(o,i),_(i,v),_(o,b),_(o,u),_(u,c),m=!0,E||(d=[$(i,"click",s[19]),$(u,"click",s[20])],E=!0)},p(a,f){const r={};f[0]&1024&&(r.src=a[10].src),f[0]&1027&&(r.value=a[0][a[1]][a[10].filename]),l.$set(r),(!m||f[0]&512&&e!==(e=Ae(a[9])+" svelte-uw5lw4"))&&w(t,"class",e)},i(a){m||(L(l.$$.fragment,a),m=!0)},o(a){R(l.$$.fragment,a),m=!1},d(a){a&&p(t),ve(l),a&&p(n),a&&p(o),E=!1,Me(d)}}}function _t(s){let t,l,e=s[2]+1+"",n;return{c(){t=V("span"),l=A("#"),n=A(e),this.h()},l(o){t=O(o,"SPAN",{slot:!0});var i=C(t);l=U(i,"#"),n=U(i,e),i.forEach(p),this.h()},h(){w(t,"slot","header")},m(o,i){z(o,t,i),_(t,l),_(t,n)},p(o,i){i[0]&4&&e!==(e=o[2]+1+"")&&te(n,e)},d(o){o&&p(t)}}}function ht(s){let t,l,e,n,o=G[s[7]].step+"",i,v,b=s[1]+2+"",u,c,m=G[s[7]].of+"",E,d,a,f,r=G[s[7]].make_likes+"",T,B,Q=G[s[7]].immediate_reaction+"",J,oe,H,W,re,le,ie,ae,F,g,y,N,K,Y,se,x,be,Z,X,j=s[1]<fe.length-1&&Xe(s),ee=s[3],I=[];for(let h=0;h<ee.length;h+=1)I[h]=We(Ke(s,ee,h));const Ze=h=>R(I[h],1,1,()=>{I[h]=null});let S=s[2]!==void 0&&Fe(s);return Z=new nt({props:{text:s[11],visible:s[4],onClick:s[14]}}),{c(){j&&j.c(),t=me(),l=q(),e=V("section"),n=V("h3"),i=A(o),v=q(),u=A(b),c=q(),E=A(m),d=A(" 13"),a=q(),f=V("p"),T=q(),B=V("p"),J=A(Q),oe=q(),H=V("div"),W=V("div"),re=A("👍: "),le=A(s[6]),ie=A(" / 2"),ae=q(),F=V("div"),g=A("👎: "),y=A(s[5]),N=A(" / 2"),K=q();for(let h=0;h<I.length;h+=1)I[h].c();Y=q(),S&&S.c(),se=q(),x=V("a"),be=q(),de(Z.$$.fragment),this.h()},l(h){const k=xe("svelte-qqy9ge",document.head);j&&j.l(k),t=me(),k.forEach(p),l=P(h),e=O(h,"SECTION",{});var D=C(e);n=O(D,"H3",{});var M=C(n);i=U(M,o),v=P(M),u=U(M,b),c=P(M),E=U(M,m),d=U(M," 13"),M.forEach(p),a=P(D),f=O(D,"P",{});var ce=C(f);ce.forEach(p),T=P(D),B=O(D,"P",{});var ye=C(B);J=U(ye,Q),ye.forEach(p),oe=P(D),H=O(D,"DIV",{class:!0});var ne=C(H);W=O(ne,"DIV",{class:!0});var ue=C(W);re=U(ue,"👍: "),le=U(ue,s[6]),ie=U(ue," / 2"),ue.forEach(p),ae=P(ne),F=O(ne,"DIV",{class:!0});var _e=C(F);g=U(_e,"👎: "),y=U(_e,s[5]),N=U(_e," / 2"),_e.forEach(p),K=P(ne);for(let ke=0;ke<I.length;ke+=1)I[ke].l(ne);ne.forEach(p),Y=P(D),S&&S.l(D),se=P(D),x=O(D,"A",{href:!0}),C(x).forEach(p),be=P(D),pe(Z.$$.fragment,D),D.forEach(p),this.h()},h(){w(W,"class","helper svelte-uw5lw4"),w(F,"class","helper svelte-uw5lw4"),w(H,"class","variants svelte-uw5lw4"),w(x,"href",lt+"/satisfaction-with-life"),we(x,"display","none")},m(h,k){j&&j.m(document.head,null),_(document.head,t),z(h,l,k),z(h,e,k),_(e,n),_(n,i),_(n,v),_(n,u),_(n,c),_(n,E),_(n,d),_(e,a),_(e,f),f.innerHTML=r,_(e,T),_(e,B),_(B,J),_(e,oe),_(e,H),_(H,W),_(W,re),_(W,le),_(W,ie),_(H,ae),_(H,F),_(F,g),_(F,y),_(F,N),_(H,K);for(let D=0;D<I.length;D+=1)I[D].m(H,null);_(e,Y),S&&S.m(e,null),_(e,se),_(e,x),s[22](x),_(e,be),ge(Z,e,null),X=!0},p(h,k){if(h[1]<fe.length-1?j?j.p(h,k):(j=Xe(h),j.c(),j.m(t.parentNode,t)):j&&(j.d(1),j=null),(!X||k[0]&128)&&o!==(o=G[h[7]].step+"")&&te(i,o),(!X||k[0]&2)&&b!==(b=h[1]+2+"")&&te(u,b),(!X||k[0]&128)&&m!==(m=G[h[7]].of+"")&&te(E,m),(!X||k[0]&128)&&r!==(r=G[h[7]].make_likes+"")&&(f.innerHTML=r),(!X||k[0]&128)&&Q!==(Q=G[h[7]].immediate_reaction+"")&&te(J,Q),(!X||k[0]&64)&&te(le,h[6]),(!X||k[0]&32)&&te(y,h[5]),k[0]&4107){ee=h[3];let M;for(M=0;M<ee.length;M+=1){const ce=Ke(h,ee,M);I[M]?(I[M].p(ce,k),L(I[M],1)):(I[M]=We(ce),I[M].c(),L(I[M],1),I[M].m(H,null))}for(Pe(),M=ee.length;M<I.length;M+=1)Ze(M);Ce()}h[2]!==void 0?S?(S.p(h,k),k[0]&4&&L(S,1)):(S=Fe(h),S.c(),L(S,1),S.m(e,se)):S&&(Pe(),R(S,1,1,()=>{S=null}),Ce());const D={};k[0]&2048&&(D.text=h[11]),k[0]&16&&(D.visible=h[4]),Z.$set(D)},i(h){if(!X){for(let k=0;k<ee.length;k+=1)L(I[k]);L(S),L(Z.$$.fragment,h),X=!0}},o(h){I=I.filter(Boolean);for(let k=0;k<I.length;k+=1)R(I[k]);R(S),R(Z.$$.fragment,h),X=!1},d(h){j&&j.d(h),p(t),h&&p(l),h&&p(e),Je(I,h),S&&S.d(),s[22](null),ve(Z)}}}function mt(s){for(let t=s.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[s[t],s[l]]=[s[l],s[t]]}return s}function dt(s,t,l){let e,n,o,i,v,b,u,c,m;qe(s,Ue,g=>l(23,c=g)),qe(s,st,g=>l(7,m=g));const d=fe.map(g=>g.map(y=>({filename:y.match(/[^\/]+$/)[0].slice(0,4),src:y}))).map(g=>mt([...g]));let a=d.map(()=>({})),f=0,r,T,B;et(()=>he("im|start"));function Q(g){return()=>{l(2,r=g);const{filename:y}=b[r];f===d.length-1&&he("im|preview|"+y)}}function J(g){const{filename:y}=b[r];f===d.length-1&&he("im|answer|"+y+"|"+g);let N=a[f];if(g===N[y]){delete N[y],N={...N,[y]:g},l(0,a[f]=N,a),l(0,a=[...a]),l(2,r=void 0);return}const K=Object.entries(N).filter(([Y,se])=>se===g);if(K.length===2){const[Y]=K[0];delete N[Y]}delete N[y],N={...N,[y]:g},l(0,a[f]=N,a),l(0,a=[...a]),l(2,r=void 0)}function oe(){if(f===d.length-1&&he("im|next",{step:f}),f<d.length-1)return l(1,f++,f);tt(Ue,c={...c,"image-perception":a},c),T.click()}function H({detail:g}){const{pageX:y,view:N}=g,{innerWidth:K}=N;l(9,B=y<K/2?"left":"right"),B==="left"&&l(2,r--,r),B==="right"&&l(2,r++,r),r>b.length-1&&l(2,r=0),r<0&&l(2,r=b.length-1)}function W({detail:g}){const{pageX:y,view:N}=g,{innerWidth:K}=N;l(9,B=y<K/2?"left":"right")}function re({detail:g}){const{touches:y,view:N}=g,{pageX:K}=y[0],{innerWidth:Y}=N;l(9,B=K<Y/2?"left":"right")}const le=()=>J(1),ie=()=>J(-1),ae=()=>l(2,r=void 0);function F(g){Re[g?"unshift":"push"](()=>{T=g,l(8,T)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&l(18,e=Object.values(a[f])),s.$$.dirty[0]&262144&&l(6,n=e.filter(g=>g>0).length),s.$$.dirty[0]&262144&&l(5,o=e.filter(g=>g<0).length),s.$$.dirty[0]&96&&l(4,i=n===2&&o===2),s.$$.dirty[0]&146&&l(11,v=i?f<d.length-1?G[m].next:G[m].continue:""),s.$$.dirty[0]&2&&l(3,b=d[f]),s.$$.dirty[0]&12&&l(10,u=r===void 0?{}:b[r])},[a,f,r,b,i,o,n,m,T,B,u,v,Q,J,oe,H,W,re,e,le,ie,ae,F]}class wt extends Ee{constructor(t){super(),Te(this,t,dt,ht,Ie,{},null,[-1,-1])}}export{wt as default};
