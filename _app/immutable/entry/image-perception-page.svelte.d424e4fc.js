import{S as we,i as Ee,s as Te,D as ye,k as N,a as q,r as A,l as V,m as C,h as p,c as P,u as U,p as w,b as z,I as u,L as $,F as De,G as Ne,H as Ve,g as L,d as R,M as Ie,P as Ge,Q as $e,x as Re,R as Oe,q as ke,n as Be,e as he,z as me,E as xe,A as de,B as pe,v as te,f as Se,O as Je,C as ge,J as Ce,o as et,T as qe,w as Ae,N as tt}from"../chunks/index.a6e30a16.js";import{b as lt}from"../chunks/paths.8e318d7b.js";import{b as Pe,a as Ue,l as st}from"../chunks/index.d36b393d.js";import{M as nt}from"../chunks/MainButton.e5624288.js";import{i as fe}from"../chunks/index.c44f348b.js";const ot=s=>({}),je=s=>({});function rt(s){let t,l,e,n,o,r,v,k,c,f,m;const E=s[4].header,d=ye(E,s,s[3],je),a=s[4].default,_=ye(a,s,s[3],null);return{c(){t=N("button"),l=q(),e=N("div"),n=N("button"),d&&d.c(),o=q(),r=N("div"),v=A("✖️"),k=q(),_&&_.c(),this.h()},l(i){t=V(i,"BUTTON",{class:!0}),C(t).forEach(p),l=P(i),e=V(i,"DIV",{class:!0,role:!0,"aria-modal":!0});var T=C(e);n=V(T,"BUTTON",{class:!0});var O=C(n);d&&d.l(O),o=P(O),r=V(O,"DIV",{class:!0});var Q=C(r);v=U(Q,"✖️"),Q.forEach(p),O.forEach(p),k=P(T),_&&_.l(T),T.forEach(p),this.h()},h(){w(t,"class","modal-background svelte-15wtu8t"),w(r,"class","close svelte-15wtu8t"),w(n,"class","header svelte-15wtu8t"),w(e,"class","modal svelte-15wtu8t"),w(e,"role","dialog"),w(e,"aria-modal","true")},m(i,T){z(i,t,T),z(i,l,T),z(i,e,T),u(e,n),d&&d.m(n,null),u(n,o),u(n,r),u(r,v),u(e,k),_&&_.m(e,null),s[5](e),c=!0,f||(m=[$(window,"keydown",s[2]),$(t,"click",s[1]),$(n,"click",s[1])],f=!0)},p(i,[T]){d&&d.p&&(!c||T&8)&&De(d,E,i,i[3],c?Ve(E,i[3],T,ot):Ne(i[3]),je),_&&_.p&&(!c||T&8)&&De(_,a,i,i[3],c?Ve(a,i[3],T,null):Ne(i[3]),null)},i(i){c||(L(d,i),L(_,i),c=!0)},o(i){R(d,i),R(_,i),c=!1},d(i){i&&p(t),i&&p(l),i&&p(e),d&&d.d(i),_&&_.d(i),s[5](null),f=!1,Ie(m)}}}function it(s,t,l){let{$$slots:e={},$$scope:n}=t;const o=Ge(),r=()=>o("close");let v;const k=m=>{if(m.key==="Escape"){r();return}if(m.key==="Tab"){const E=v.querySelectorAll("*"),d=Array.from(E).filter(_=>_.tabIndex>=0);let a=d.indexOf(document.activeElement);a===-1&&m.shiftKey&&(a=0),a+=d.length+(m.shiftKey?-1:1),a%=d.length,d[a].focus(),m.preventDefault()}},c=typeof document<"u"&&document.activeElement;c&&$e(()=>{c.focus()});function f(m){Re[m?"unshift":"push"](()=>{v=m,l(0,v)})}return s.$$set=m=>{"$$scope"in m&&l(3,n=m.$$scope)},[v,r,k,n,e,f]}class at extends we{constructor(t){super(),Ee(this,t,it,rt,Te,{})}}function ze(s){let t;return{c(){t=A("👍")},l(l){t=U(l,"👍")},m(l,e){z(l,t,e)},d(l){l&&p(t)}}}function He(s){let t;return{c(){t=A("👎")},l(l){t=U(l,"👎")},m(l,e){z(l,t,e)},d(l){l&&p(t)}}}function ft(s){let t,l,e,n,o,r,v,k,c=s[2]>0&&ze(),f=s[2]<0&&He();return{c(){t=N("button"),l=N("img"),n=q(),o=N("div"),c&&c.c(),r=q(),f&&f.c(),this.h()},l(m){t=V(m,"BUTTON",{class:!0});var E=C(t);l=V(E,"IMG",{class:!0,alt:!0,src:!0}),n=P(E),o=V(E,"DIV",{class:!0});var d=C(o);c&&c.l(d),r=P(d),f&&f.l(d),d.forEach(p),E.forEach(p),this.h()},h(){w(l,"class","image svelte-1bv2z4f"),w(l,"alt",""),Oe(l.src,e=s[0])||w(l,"src",e),w(o,"class","mark svelte-1bv2z4f"),w(t,"class","variant svelte-1bv2z4f"),ke(t,"padding",s[1]?"0.5rem":0)},m(m,E){z(m,t,E),u(t,l),u(t,n),u(t,o),c&&c.m(o,null),u(o,r),f&&f.m(o,null),v||(k=[$(t,"click",s[4]),$(t,"mousedown",s[5]),$(t,"touchstart",s[6])],v=!0)},p(m,[E]){E&1&&!Oe(l.src,e=m[0])&&w(l,"src",e),m[2]>0?c||(c=ze(),c.c(),c.m(o,r)):c&&(c.d(1),c=null),m[2]<0?f||(f=He(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),E&2&&ke(t,"padding",m[1]?"0.5rem":0)},i:Be,o:Be,d(m){m&&p(t),c&&c.d(),f&&f.d(),v=!1,Ie(k)}}}function ct(s,t,l){const e=Ge();let{src:n}=t,{frame:o=!0}=t,{value:r=0}=t;const v=f=>e("click",f),k=f=>e("mousedown",f),c=f=>e("touchstart",f);return s.$$set=f=>{"src"in f&&l(0,n=f.src),"frame"in f&&l(1,o=f.frame),"value"in f&&l(2,r=f.value)},[n,o,r,e,v,k,c]}class Ye extends we{constructor(t){super(),Ee(this,t,ct,ft,Te,{src:0,frame:1,value:2})}}const G={en:{step:"Step",of:"of",make_likes:"Make <strong>2 likes (👍)</strong> and <strong>2 dislikes (👎)</strong> for <strong>8 images</strong>.",immediate_reaction:"Don't waste too much time thinking, your first immediate reaction is important!",next:"NEXT",continue:"CONTINUE"},ru:{step:"Шаг",of:"из",make_likes:"Поставьте <strong>2 лайка (👍)</strong> и <strong>2 дизлайка (👎)</strong> для <strong>8 изображений</strong>.",immediate_reaction:"Не тратьте слишком много времени на размышления, важна ваша первая немедленная реакция!",next:"ДАЛЕЕ",continue:"ПРОДОЛЖИТЬ"}};function Ke(s,t,l){const e=s.slice();return e[26]=t[l].filename,e[27]=t[l].src,e[29]=l,e}function Le(s,t,l){const e=s.slice();return e[30]=t[l],e}function Xe(s){let t,l=fe[s[1]+1],e=[];for(let n=0;n<l.length;n+=1)e[n]=Qe(Le(s,l,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=he()},l(n){for(let o=0;o<e.length;o+=1)e[o].l(n);t=he()},m(n,o){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(n,o);z(n,t,o)},p(n,o){if(o[0]&2){l=fe[n[1]+1];let r;for(r=0;r<l.length;r+=1){const v=Le(n,l,r);e[r]?e[r].p(v,o):(e[r]=Qe(v),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},d(n){Je(e,n),n&&p(t)}}}function Qe(s){let t,l;return{c(){t=N("link"),this.h()},l(e){t=V(e,"LINK",{rel:!0,href:!0,as:!0}),this.h()},h(){w(t,"rel","preload"),w(t,"href",l=s[30]),w(t,"as","image")},m(e,n){z(e,t,n)},p(e,n){n[0]&2&&l!==(l=e[30])&&w(t,"href",l)},d(e){e&&p(t)}}}function We(s){let t,l;return t=new Ye({props:{src:s[27],value:s[0][s[1]][s[26]]}}),t.$on("click",s[12](s[29])),{c(){me(t.$$.fragment)},l(e){de(t.$$.fragment,e)},m(e,n){pe(t,e,n),l=!0},p(e,n){const o={};n[0]&8&&(o.src=e[27]),n[0]&11&&(o.value=e[0][e[1]][e[26]]),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){R(t.$$.fragment,e),l=!1},d(e){ge(t,e)}}}function Fe(s){let t,l;return t=new at({props:{$$slots:{header:[_t],default:[ut]},$$scope:{ctx:s}}}),t.$on("close",s[21]),{c(){me(t.$$.fragment)},l(e){de(t.$$.fragment,e)},m(e,n){pe(t,e,n),l=!0},p(e,n){const o={};n[0]&1543|n[1]&4&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){l||(L(t.$$.fragment,e),l=!0)},o(e){R(t.$$.fragment,e),l=!1},d(e){ge(t,e)}}}function ut(s){let t,l,e,n,o,r,v,k,c,f,m,E,d;return l=new Ye({props:{src:s[10].src,frame:!1,value:s[0][s[1]][s[10].filename]}}),l.$on("click",s[15]),l.$on("mousedown",s[16]),l.$on("touchstart",s[17]),{c(){t=N("div"),me(l.$$.fragment),n=q(),o=N("div"),r=N("button"),v=A("👍"),k=q(),c=N("button"),f=A("👎"),this.h()},l(a){t=V(a,"DIV",{class:!0});var _=C(t);de(l.$$.fragment,_),_.forEach(p),n=P(a),o=V(a,"DIV",{class:!0});var i=C(o);r=V(i,"BUTTON",{class:!0});var T=C(r);v=U(T,"👍"),T.forEach(p),k=P(i),c=V(i,"BUTTON",{class:!0});var O=C(c);f=U(O,"👎"),O.forEach(p),i.forEach(p),this.h()},h(){w(t,"class",e=qe(s[9])+" svelte-uw5lw4"),w(r,"class","svelte-uw5lw4"),w(c,"class","svelte-uw5lw4"),w(o,"class","row svelte-uw5lw4")},m(a,_){z(a,t,_),pe(l,t,null),z(a,n,_),z(a,o,_),u(o,r),u(r,v),u(o,k),u(o,c),u(c,f),m=!0,E||(d=[$(r,"click",s[19]),$(c,"click",s[20])],E=!0)},p(a,_){const i={};_[0]&1024&&(i.src=a[10].src),_[0]&1027&&(i.value=a[0][a[1]][a[10].filename]),l.$set(i),(!m||_[0]&512&&e!==(e=qe(a[9])+" svelte-uw5lw4"))&&w(t,"class",e)},i(a){m||(L(l.$$.fragment,a),m=!0)},o(a){R(l.$$.fragment,a),m=!1},d(a){a&&p(t),ge(l),a&&p(n),a&&p(o),E=!1,Ie(d)}}}function _t(s){let t,l,e=s[2]+1+"",n;return{c(){t=N("span"),l=A("#"),n=A(e),this.h()},l(o){t=V(o,"SPAN",{slot:!0});var r=C(t);l=U(r,"#"),n=U(r,e),r.forEach(p),this.h()},h(){w(t,"slot","header")},m(o,r){z(o,t,r),u(t,l),u(t,n)},p(o,r){r[0]&4&&e!==(e=o[2]+1+"")&&te(n,e)},d(o){o&&p(t)}}}function ht(s){let t,l,e,n,o=G[s[7]].step+"",r,v,k=s[1]+2+"",c,f,m=G[s[7]].of+"",E,d,a,_,i=G[s[7]].make_likes+"",T,O,Q=G[s[7]].immediate_reaction+"",J,oe,H,W,re,le,ie,ae,F,g,S,D,K,Y,se,x,ve,Z,X,j=s[1]<fe.length-1&&Xe(s),ee=s[3],I=[];for(let h=0;h<ee.length;h+=1)I[h]=We(Ke(s,ee,h));const Ze=h=>R(I[h],1,1,()=>{I[h]=null});let B=s[2]!==void 0&&Fe(s);return Z=new nt({props:{text:s[11],visible:s[4],onClick:s[14]}}),{c(){j&&j.c(),t=he(),l=q(),e=N("section"),n=N("h3"),r=A(o),v=q(),c=A(k),f=q(),E=A(m),d=A(" 13"),a=q(),_=N("p"),T=q(),O=N("p"),J=A(Q),oe=q(),H=N("div"),W=N("div"),re=A("👍: "),le=A(s[6]),ie=A(" / 2"),ae=q(),F=N("div"),g=A("👎: "),S=A(s[5]),D=A(" / 2"),K=q();for(let h=0;h<I.length;h+=1)I[h].c();Y=q(),B&&B.c(),se=q(),x=N("a"),ve=q(),me(Z.$$.fragment),this.h()},l(h){const b=xe("svelte-qqy9ge",document.head);j&&j.l(b),t=he(),b.forEach(p),l=P(h),e=V(h,"SECTION",{});var M=C(e);n=V(M,"H3",{});var y=C(n);r=U(y,o),v=P(y),c=U(y,k),f=P(y),E=U(y,m),d=U(y," 13"),y.forEach(p),a=P(M),_=V(M,"P",{});var ce=C(_);ce.forEach(p),T=P(M),O=V(M,"P",{});var Me=C(O);J=U(Me,Q),Me.forEach(p),oe=P(M),H=V(M,"DIV",{class:!0});var ne=C(H);W=V(ne,"DIV",{class:!0});var ue=C(W);re=U(ue,"👍: "),le=U(ue,s[6]),ie=U(ue," / 2"),ue.forEach(p),ae=P(ne),F=V(ne,"DIV",{class:!0});var _e=C(F);g=U(_e,"👎: "),S=U(_e,s[5]),D=U(_e," / 2"),_e.forEach(p),K=P(ne);for(let be=0;be<I.length;be+=1)I[be].l(ne);ne.forEach(p),Y=P(M),B&&B.l(M),se=P(M),x=V(M,"A",{href:!0}),C(x).forEach(p),ve=P(M),de(Z.$$.fragment,M),M.forEach(p),this.h()},h(){w(W,"class","helper svelte-uw5lw4"),w(F,"class","helper svelte-uw5lw4"),w(H,"class","variants svelte-uw5lw4"),w(x,"href",lt+"/satisfaction-with-life"),ke(x,"display","none")},m(h,b){j&&j.m(document.head,null),u(document.head,t),z(h,l,b),z(h,e,b),u(e,n),u(n,r),u(n,v),u(n,c),u(n,f),u(n,E),u(n,d),u(e,a),u(e,_),_.innerHTML=i,u(e,T),u(e,O),u(O,J),u(e,oe),u(e,H),u(H,W),u(W,re),u(W,le),u(W,ie),u(H,ae),u(H,F),u(F,g),u(F,S),u(F,D),u(H,K);for(let M=0;M<I.length;M+=1)I[M]&&I[M].m(H,null);u(e,Y),B&&B.m(e,null),u(e,se),u(e,x),s[22](x),u(e,ve),pe(Z,e,null),X=!0},p(h,b){if(h[1]<fe.length-1?j?j.p(h,b):(j=Xe(h),j.c(),j.m(t.parentNode,t)):j&&(j.d(1),j=null),(!X||b[0]&128)&&o!==(o=G[h[7]].step+"")&&te(r,o),(!X||b[0]&2)&&k!==(k=h[1]+2+"")&&te(c,k),(!X||b[0]&128)&&m!==(m=G[h[7]].of+"")&&te(E,m),(!X||b[0]&128)&&i!==(i=G[h[7]].make_likes+"")&&(_.innerHTML=i),(!X||b[0]&128)&&Q!==(Q=G[h[7]].immediate_reaction+"")&&te(J,Q),(!X||b[0]&64)&&te(le,h[6]),(!X||b[0]&32)&&te(S,h[5]),b[0]&4107){ee=h[3];let y;for(y=0;y<ee.length;y+=1){const ce=Ke(h,ee,y);I[y]?(I[y].p(ce,b),L(I[y],1)):(I[y]=We(ce),I[y].c(),L(I[y],1),I[y].m(H,null))}for(Ae(),y=ee.length;y<I.length;y+=1)Ze(y);Se()}h[2]!==void 0?B?(B.p(h,b),b[0]&4&&L(B,1)):(B=Fe(h),B.c(),L(B,1),B.m(e,se)):B&&(Ae(),R(B,1,1,()=>{B=null}),Se());const M={};b[0]&2048&&(M.text=h[11]),b[0]&16&&(M.visible=h[4]),Z.$set(M)},i(h){if(!X){for(let b=0;b<ee.length;b+=1)L(I[b]);L(B),L(Z.$$.fragment,h),X=!0}},o(h){I=I.filter(Boolean);for(let b=0;b<I.length;b+=1)R(I[b]);R(B),R(Z.$$.fragment,h),X=!1},d(h){j&&j.d(h),p(t),h&&p(l),h&&p(e),Je(I,h),B&&B.d(),s[22](null),ge(Z)}}}function mt(s){for(let t=s.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[s[t],s[l]]=[s[l],s[t]]}return s}function dt(s,t,l){let e,n,o,r,v,k,c,f,m;Ce(s,Ue,g=>l(23,f=g)),Ce(s,st,g=>l(7,m=g));const d=fe.map(g=>g.map(S=>({filename:S.match(/[^\/]+$/)[0].slice(0,4),src:S}))).map(g=>mt([...g]));let a=d.map(()=>({})),_=0,i,T,O;et(()=>Pe("img|start"));function Q(g){return()=>l(2,i=g)}function J(g){const{filename:S}=k[i];let D=a[_];if(g===D[S]){delete D[S],D={...D,[S]:g},l(0,a[_]=D,a),l(0,a=[...a]),l(2,i=void 0);return}const K=Object.entries(D).filter(([Y,se])=>se===g);if(K.length===2){const[Y]=K[0];delete D[Y]}delete D[S],D={...D,[S]:g},l(0,a[_]=D,a),l(0,a=[...a]),l(2,i=void 0)}function oe(){if(_<d.length-1)return Pe("img|next"),l(1,_++,_);tt(Ue,f={...f,"image-perception":a},f),T.click()}function H({detail:g}){const{pageX:S,view:D}=g,{innerWidth:K}=D;l(9,O=S<K/2?"left":"right"),O==="left"&&l(2,i--,i),O==="right"&&l(2,i++,i),i>k.length-1&&l(2,i=0),i<0&&l(2,i=k.length-1)}function W({detail:g}){const{pageX:S,view:D}=g,{innerWidth:K}=D;l(9,O=S<K/2?"left":"right")}function re({detail:g}){const{touches:S,view:D}=g,{pageX:K}=S[0],{innerWidth:Y}=D;l(9,O=K<Y/2?"left":"right")}const le=()=>J(1),ie=()=>J(-1),ae=()=>l(2,i=void 0);function F(g){Re[g?"unshift":"push"](()=>{T=g,l(8,T)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&l(18,e=Object.values(a[_])),s.$$.dirty[0]&262144&&l(6,n=e.filter(g=>g>0).length),s.$$.dirty[0]&262144&&l(5,o=e.filter(g=>g<0).length),s.$$.dirty[0]&96&&l(4,r=n===2&&o===2),s.$$.dirty[0]&146&&l(11,v=r?_<d.length-1?G[m].next:G[m].continue:""),s.$$.dirty[0]&2&&l(3,k=d[_]),s.$$.dirty[0]&12&&l(10,c=i===void 0?{}:k[i])},[a,_,i,k,r,o,n,m,T,O,c,v,Q,J,oe,H,W,re,e,le,ie,ae,F]}class wt extends we{constructor(t){super(),Ee(this,t,dt,ht,Te,{},null,[-1,-1])}}export{wt as default};
